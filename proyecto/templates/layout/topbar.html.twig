{% block topbar %}
<div class="topbar bg-light py-2">
    <div class="container-fluid">
        <div class="row align-items-center">
            <!-- Logo y Menú a la izquierda -->
            <div class="col d-flex align-items-center">
                <div class="topbar__logo me-2">
                    <a class="navbar-brand" href="{{ path('app_index') }}">
                        <img src="{{ asset('images/logo.png') }}" alt="Alquil.AR" height="60" style="border-radius: 100px"/>
                    </a>
                </div>
                <nav class="topbar__menu navbar navbar-expand-md navbar-light ms-2">
                    <div class="collapse navbar-collapse" id="navbarNavMiddle">
                        <ul class="navbar-nav">
                            <li class="nav-item mx-md-2">
                                <a class="nav-link" href="{{ path('app_index') }}">Sucursales</a>
                            </li>
                            <li class="nav-item mx-md-2">
                                <a class="nav-link" href="{{ path('app_catalogo') }}">Catálogo</a>
                            </li>
                            {% if is_granted("ROLE_GERENTE") %}
                                <li class="nav-item mx-md-2">
                                    <a class="nav-link" href="{{ path('app_admin') }}">Panel de Gestión</a>
                                </li>
                            {% endif %}
                            {% if is_granted("ROLE_EMPLEADO") %}
                                <li class="nav-item dropdown mx-md-2">
                                    <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Administración
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="adminDropdown">
                                        <li><a class="dropdown-item" href="{{ path('app_todos_alquileres') }}">Listado de alquileres</a></li>
                                        <li><a class="dropdown-item" href="{{ path('app_reservas') }}">Listado de reservas</a></li>
                                        <li><a class="dropdown-item" href="{{ path('app_listar_maquinaria') }}">Listado de maquinaria</a></li>
                                        <li><a class="dropdown-item" href="{{ path('app_usuarios_nuevo_cliente') }}">Registrar Cliente</a></li>
                                    </ul>
                                </li>
                            {% endif %}
                        </ul>
                    </div>
                </nav>
            </div>
            <!-- Auth a la derecha -->
            <div class="col-auto ms-auto">
                <nav class="topbar__auth navbar navbar-expand-md navbar-light justify-content-end">
                    <div class="collapse navbar-collapse" id="navbarNavAuth">
                        <ul class="navbar-nav">
                            {% if is_granted('ROLE_AUTENTICADO') %}
                                <li class="nav-item mx-md-2">
                                    <a class="nav-link" href="{{ path('app_perfil') }}">Ver información personal</a>
                                </li>
                                <li class="nav-item mx-md-2">
                                    <a class="nav-link" href="{{ path('app_sesiones_logout') }}">Cerrar Sesión</a>
                                </li>
                            {% else %}
                                <li class="nav-item mx-md-2">
                                    <a class="nav-link" href="{{ path('app_sesiones_login') }}">Iniciar Sesión</a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>
                </nav>
            </div>
        </div>

        <button class="navbar-toggler d-md-none mt-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavMiddle, #navbarNavAuth" aria-controls="navbarNavMiddle navbarNavAuth" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>
{% endblock %}
